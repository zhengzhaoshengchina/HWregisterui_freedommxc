"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router");(function(window,angular,undefined){"use strict";function inherit(parent,extra){return extend(new(extend(function(){},{"prototype":parent})),extra)}function merge(dst){forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})});return dst}function ancestors(first,second){var n,path=[];for(n in first.path){if(""===first.path[n])continue;if(!second.path[n])break;path.push(first.path[n])}return path}function arraySearch(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;from=from<0?Math.ceil(from):Math.floor(from);from<0&&(from+=len);for(;from<len;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,i,j,parents=ancestors($current,$to),inherited={},inheritList=[];for(i in parents){if(!parents[i].params||!parents[i].params.length)continue;parentParams=parents[i].params;for(j in parentParams){if(arraySearch(inheritList,parentParams[j])>=0)continue;inheritList.push(parentParams[j]);inherited[parentParams[j]]=currentParams[parentParams[j]]}}return extend({},inherited,newParams)}function normalize(keys,values){var normalized={};forEach(keys,function(name){var value=values[name];normalized[name]=null!=value?String(value):null});return normalized}function equalForKeys(a,b,keys){var n,i,k;if(!keys){keys=[];for(n in a)keys.push(n)}for(i=0;i<keys.length;i++){k=keys[i];if(a[k]!=b[k])return!1}return!0}function filterByKeys(keys,values){var filtered={};forEach(keys,function(name){filtered[name]=values[name]});return filtered}function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{"$$promises":NOTHING,"$$values":NOTHING});this.study=function(invocables){function visit(value,key){if(visited[key]===VISIT_DONE)return;cycle.push(key);if(visited[key]===VISIT_IN_PROGRESS){cycle.splice(0,cycle.indexOf(key));throw new Error("Cyclic dependency: "+cycle.join(" -> "))}visited[key]=VISIT_IN_PROGRESS;if(isString(value))plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES);else{var params=$injector.annotate(value);forEach(params,function(param){param!==key&&invocables.hasOwnProperty(param)&&visit(invocables[param],param)});plan.push(key,value,params)}cycle.pop();visited[key]=VISIT_DONE}function isResolve(value){return isObject(value)&&value.then&&value.$$promises}if(!isObject(invocables))throw new Error("'invocables' must be an object");var plan=[],cycle=[],visited={};forEach(invocables,visit);invocables=cycle=visited=null;return function(locals,parent,self){function done(){if(!--wait){merged||merge(values,parent.$$values);result.$$values=values;result.$$promises=!0;resolution.resolve(values)}}function fail(reason){result.$$failure=reason;resolution.reject(reason)}function invoke(key,invocable,params){function onfailure(reason){invocation.reject(reason);fail(reason)}function proceed(){if(isDefined(result.$$failure))return;try{invocation.resolve($injector.invoke(invocable,self,values));invocation.promise.then(function(result){values[key]=result;done()},onfailure)}catch(e){onfailure(e)}}var invocation=$q.defer(),waitParams=0;forEach(params,function(dep){if(promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)){waitParams++;promises[dep].then(function(result){values[dep]=result;--waitParams||proceed()},onfailure)}});waitParams||proceed();promises[key]=invocation.promise}var resolution,result,promises,values,wait,merged,i,ii;if(isResolve(locals)&&self===undefined){self=parent;parent=locals;locals=null}if(locals){if(!isObject(locals))throw new Error("'locals' must be an object")}else locals=NO_LOCALS;if(parent){if(!isResolve(parent))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else parent=NO_PARENT;resolution=$q.defer(),result=resolution.promise,promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=!1;if(isDefined(parent.$$failure)){fail(parent.$$failure);return result}if(parent.$$values){merged=merge(values,parent.$$values);done()}else{extend(promises,parent.$$promises);parent.then(done,fail)}for(i=0,ii=plan.length;i<ii;i+=3)locals.hasOwnProperty(plan[i])?done():invoke(plan[i],plan[i+1],plan[i+2]);return result}};this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}function $TemplateFactory($http,$templateCache,$injector){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null};this.fromString=function(template,params){return isFunction(template)?template(params):template};this.fromUrl=function(url,params){isFunction(url)&&(url=url(params));if(null==url)return null;var flag=url.indexOf("/static/framework/")>=0;versionNum&&!flag?url=url+"?ttl="+versionNum:window.frameworkVersion&&flag&&(url=url+"?ttf="+window.frameworkVersion);return $http.get(url,{"cache":$templateCache}).then(function(response){return response.data})};this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{"params":params})}}function UrlMatcher(pattern){function addParameter(id){if(!/^\w+(-+\w+)*$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(names[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");names[id]=!0;params.push(id)}function quoteRegExp(string){return string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var m,id,regexp,segment,i,search,placeholder=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,names={},compiled="^",last=0,segments=this.segments=[],params=this.params=[];this.source=pattern;for(;m=placeholder.exec(pattern);){id=m[2]||m[3];regexp=m[4]||("*"==m[1]?".*":"[^/]*");segment=pattern.substring(last,m.index);if(segment.indexOf("?")>=0)break;compiled+=quoteRegExp(segment)+"("+regexp+")";addParameter(id);segments.push(segment);last=placeholder.lastIndex}segment=pattern.substring(last);i=segment.indexOf("?");if(i>=0){search=this.sourceSearch=segment.substring(i);segment=segment.substring(0,i);this.sourcePath=pattern.substring(0,last+i);forEach(search.substring(1).split(/[&?]/),addParameter)}else{this.sourcePath=pattern;this.sourceSearch=""}compiled+=quoteRegExp(segment)+"$";segments.push(segment);this.regexp=new RegExp(compiled);this.prefix=segments[0]}function $UrlMatcherFactory(){this.compile=function(pattern){return new UrlMatcher(pattern)};this.isMatcher=function(o){return isObject(o)&&isFunction(o.exec)&&isFunction(o.format)&&isFunction(o.concat)};this.$get=function(){return this}}function $UrlRouterProvider($urlMatcherFactory){function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{"$match":match});return!isDefined(result)||result}var rules=[],otherwise=null;this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");rules.push(rule);return this};this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");otherwise=rule;return this};this.when=function(what,handler){var redirect,strategies,check,n,handlerIsString=isString(handler);isString(what)&&(what=$urlMatcherFactory.compile(what));if(!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");strategies={"matcher":function(what,handler){if(handlerIsString){redirect=$urlMatcherFactory.compile(handler);handler=["$match",function($match){return redirect.format($match)}]}return extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{"prefix":isString(what.prefix)?what.prefix:""})},"regex":function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");if(handlerIsString){redirect=handler;handler=["$match",function($match){return interpolate(redirect,$match)}]}return extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{"prefix":regExpPrefix(what)})}};check={"matcher":$urlMatcherFactory.isMatcher(what),"regex":what instanceof RegExp};for(n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")};this.$get=["$location","$rootScope","$injector",function($location,$rootScope,$injector){function update(evt){function check(rule){var handled=rule($injector,$location);if(handled){isString(handled)&&$location.replace().url(handled);return!0}return!1}if(evt&&evt.defaultPrevented)return;var i,n=rules.length;for(i=0;i<n;i++)if(check(rules[i]))return;otherwise&&check(otherwise)}$rootScope.$on("$locationChangeSuccess",update);return{"sync":function(){update()}}}]}function $StateProvider($urlRouterProvider,$urlMatcherFactory,$locationProvider){function isRelative(stateName){return 0===stateName.indexOf(".")||0===stateName.indexOf("^")}function findState(stateOrName,base){var rel,i,pathLength,current,state,isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name;if(isRelative(name)){if(!base)throw new Error("No reference point given for path '"+name+"'");rel=name.split("."),i=0,pathLength=rel.length,current=base;for(;i<pathLength;i++){if(""===rel[i]&&0===i){current=base;continue}if("^"===rel[i]){if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent;continue}break}rel=rel.slice(i).join(".");name=current.name+(current.name&&rel?".":"")+rel}state=states[name];if(state&&(isStr||!isStr&&(state===stateOrName||state.self===stateOrName)))return state;return undefined}function queueState(parentName,state){queue[parentName]||(queue[parentName]=[]);queue[parentName].push(state)}function registerState(state){var name,parentName,key,i;state=inherit(state,{"self":state,"resolve":state.resolve||{},"toString":function(){return this.name}});name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"'' is already defined");parentName=-1!==name.indexOf(".")?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:"";if(parentName&&!states[parentName])return queueState(parentName,state.self);for(key in stateBuilder)isFunction(stateBuilder[key])&&(state[key]=stateBuilder[key](state,stateBuilder.$delegates[key]));states[name]=state;!state[abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable==state&&equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{"location":!1})}]);if(queue[name])for(i=0;i<queue[name].length;i++)registerState(queue[name][i]);return state}function decorator(name,func){if(isString(name)&&!isDefined(func))return stateBuilder[name];if(!isFunction(func)||!isString(name))return this;stateBuilder[name]&&!stateBuilder.$delegates[name]&&(stateBuilder.$delegates[name]=stateBuilder[name]);stateBuilder[name]=func;return this}function state(name,definition){isObject(name)?definition=name:definition.name=name;registerState(definition);return this}function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$location,$urlRouter){function syncUrl(){if($location.url()!==currentLocation){$location.url(currentLocation);$location.replace()}}function resolveState(state,params,paramsAreFiltered,inherited,dst){var promises,$stateParams=paramsAreFiltered?params:filterByKeys(state.params,params),locals={"$stateParams":$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);promises=[dst.resolve.then(function(globals){dst.globals=globals})];inherited&&promises.push(inherited);forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{"view":view,"locals":locals,"params":$stateParams,"notify":!1})||""}];promises.push($resolve.resolve(injectables,locals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,locals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else result.$$controller=view.controller;result.$$state=state;dst[name]=result}))});return $q.all(promises).then(function(values){return dst})}var TransitionSuperseded=$q.reject(new Error("transition superseded")),TransitionPrevented=$q.reject(new Error("transition prevented")),TransitionAborted=$q.reject(new Error("transition aborted")),TransitionFailed=$q.reject(new Error("transition failed")),currentLocation=$location.url();root.locals={"resolve":null,"globals":{"$stateParams":{}}};$state={"params":{},"current":root.self,"$current":root,"transition":null};$state.reload=function(){$state.transitionTo($state.current,$stateParams,{"reload":!0,"inherit":!1,"notify":!1})};$state.go=function(to,params,options){return this.transitionTo(to,params,extend({"inherit":!0,"relative":$state.$current},options))};$state.transitionTo=function(to,toParams,options){var from,fromParams,fromPath,evt,toState,redirect,retryTransition,toPath,keep,state,locals,toLocals,resolved,l,transition;toParams=toParams||{};options=extend({"location":!0,"inherit":!1,"relative":null,"notify":!0,"reload":!1,"$retry":!1},options||{});from=$state.$current,fromParams=$state.params,fromPath=from.path;toState=findState(to,options.relative);if(!isDefined(toState)){redirect={"to":to,"toParams":toParams,"options":options};evt=$rootScope.$broadcast("$stateNotFound",redirect,from.self,fromParams);if(evt.defaultPrevented){syncUrl();return TransitionAborted}if(evt.retry){if(options.$retry){syncUrl();return TransitionFailed}retryTransition=$state.transition=$q.when(evt.retry);retryTransition.then(function(){if(retryTransition!==$state.transition)return TransitionSuperseded;redirect.options.$retry=!0;return $state.transitionTo(redirect.to,redirect.toParams,redirect.options)},function(){return TransitionAborted});syncUrl();return retryTransition}to=redirect.to;toParams=redirect.toParams;options=redirect.options;toState=findState(to,options.relative);if(!isDefined(toState)){if(options.relative)throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'");throw new Error("No such state '"+to+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");options.inherit&&(toParams=inheritParams($stateParams,toParams||{},$state.$current,toState));to=toState;toPath=to.path;locals=root.locals,toLocals=[];for(keep=0,state=toPath[keep];state&&state===fromPath[keep]&&equalForKeys(toParams,fromParams,state.ownParams)&&!options.reload;keep++,state=toPath[keep])locals=toLocals[keep]=state.locals;if(shouldTriggerReload(to,from,locals,options)){!1!==to.self.reloadOnSearch&&syncUrl();$state.transition=null;return $q.when($state.current)}toParams=normalize(to.params,toParams||{});if(options.notify){evt=$rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams);if(evt.defaultPrevented){syncUrl();return TransitionPrevented}}resolved=$q.when(locals);for(l=keep;l<toPath.length;l++,state=toPath[l]){locals=toLocals[l]=inherit(locals);resolved=resolveState(state,toParams,state===to,resolved,locals)}transition=$state.transition=resolved.then(function(){var l,entering,exiting,toNav;if($state.transition!==transition)return TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--){exiting=fromPath[l];exiting.self.onExit&&$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals);exiting.locals=null}for(l=keep;l<toPath.length;l++){entering=toPath[l];entering.locals=toLocals[l];entering.self.onEnter&&$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals)}if($state.transition!==transition)return TransitionSuperseded;$state.$current=to;$state.current=to.self;$state.params=toParams;copy($state.params,$stateParams);$state.transition=null;toNav=to.navigable;if(options.location&&toNav){$location.url(toNav.url.format(toNav.locals.globals.$stateParams));"replace"===options.location&&$location.replace()}options.notify&&$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams);currentLocation=$location.url();return $state.current},function(error){if($state.transition!==transition)return TransitionSuperseded;$state.transition=null;$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error);syncUrl();return $q.reject(error)});return transition};$state.is=function(stateOrName,params){var state=findState(stateOrName);if(!isDefined(state))return undefined;if($state.$current!==state)return!1;return!isDefined(params)||angular.equals($stateParams,params)};$state.includes=function(stateOrName,params){var validParams,state=findState(stateOrName);if(!isDefined(state))return undefined;if(!isDefined($state.$current.includes[state.name]))return!1;validParams=!0;angular.forEach(params,function(value,key){isDefined($stateParams[key])&&$stateParams[key]===value||(validParams=!1)});return validParams};$state.href=function(stateOrName,params,options){var state,nav,url;options=extend({"lossy":!0,"inherit":!1,"absolute":!1,"relative":$state.$current},options||{});state=findState(stateOrName,options.relative);if(!isDefined(state))return null;params=inheritParams($stateParams,params||{},$state.$current,state);nav=state&&options.lossy?state.navigable:state;url=nav&&nav.url?nav.url.format(normalize(state.params,params||{})):null;!$locationProvider.html5Mode()&&url&&(url="#"+$locationProvider.hashPrefix()+url);options.absolute&&url&&(url=$location.protocol()+"://"+$location.host()+(80==$location.port()||443==$location.port()?"":":"+$location.port())+(!$locationProvider.html5Mode()&&url?"/":"")+url);return url};$state.get=function(stateOrName,context){var list,state;if(!isDefined(stateOrName)){list=[];forEach(states,function(state){list.push(state.self)});return list}state=findState(stateOrName,context);return state&&state.self?state.self:null};return $state}function shouldTriggerReload(to,from,locals,options){if(to===from&&(locals===from.locals&&!options.reload||!1===to.self.reloadOnSearch))return!0}var $state,states={},queue={},abstractKey="abstract",stateBuilder={"parent":function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},"data":function(state){state.parent&&state.parent.data&&(state.data=state.self.data=extend({},state.parent.data,state.data));return state.data},"url":function(state){var url=state.url;if(isString(url)){if("^"==url.charAt(0))return $urlMatcherFactory.compile(url.substring(1));return(state.parent.navigable||root).url.concat(url)}if($urlMatcherFactory.isMatcher(url)||null==url)return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},"navigable":function(state){return state.url?state:state.parent?state.parent.navigable:null},"params":function(state){if(!state.params)return state.url?state.url.parameters():state.parent.params;if(!isArray(state.params))throw new Error("Invalid params in state '"+state+"'");if(state.url)throw new Error("Both params and url specicified in state '"+state+"'");return state.params},"views":function(state){var views={};forEach(isDefined(state.views)?state.views:{"":state},function(view,name){name.indexOf("@")<0&&(name+="@"+state.parent.name);views[name]=view});return views},"ownParams":function(state){var paramNames,ownParams;if(!state.parent)return state.params;paramNames={};forEach(state.params,function(p){paramNames[p]=!0});forEach(state.parent.params,function(p){if(!paramNames[p])throw new Error("Missing required parameter '"+p+"' in state '"+state.name+"'");paramNames[p]=!1});ownParams=[];forEach(paramNames,function(own,p){own&&ownParams.push(p)});return ownParams},"path":function(state){return state.parent?state.parent.path.concat(state):[]},"includes":function(state){var includes=state.parent?extend({},state.parent.includes):{};includes[state.name]=!0;return includes},"$delegates":{}},root=registerState({"name":"","url":"^","views":null,"abstract":!0});root.navigable=null;this.decorator=decorator;this.state=state;this.$get=$get;$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter"]}function $ViewProvider(){function $get($rootScope,$templateFactory){return{"load":function(name,options){var result;options=extend({"template":null,"controller":null,"view":null,"locals":null,"notify":!0,"async":!0,"params":{}},options);options.view&&(result=$templateFactory.fromConfig(options.view,options.params,options.locals));result&&options.notify&&$rootScope.$broadcast("$viewContentLoading",options);return result}}}this.$get=$get;$get.$inject=["$rootScope","$templateFactory"]}function $ViewDirective($state,$compile,$controller,$injector,$anchorScroll){var $animator=!!$injector.has("$animator")&&$injector.get("$animator"),viewIsUpdating=!1,directive={"restrict":"ECA","terminal":!0,"priority":1e3,"transclude":!0,"compile":function(element,attr,transclude){return function(scope,element,attr){function updateView(doAnimate){var render,link,controller,locals=$state.$current&&$state.$current.locals[name];if(locals===viewLocals)return;render=renderer(animate&&doAnimate);render.remove(element);if(viewScope){viewScope.$destroy();viewScope=null}if(!locals){viewLocals=null;view.state=null;return render.restore(initialView,element)}viewLocals=locals;view.state=locals.$$state;link=$compile(render.populate(locals.$template,element));viewScope=scope.$new();if(locals.$$controller){locals.$scope=viewScope;controller=$controller(locals.$$controller,locals);element.children().data("$ngControllerController",controller)}link(viewScope);viewScope.$emit("$viewContentLoaded");onloadExp&&viewScope.$eval(onloadExp);$anchorScroll()}var viewScope,viewLocals,parent,view,eventHook,name=attr[directive.name]||attr.name||"",onloadExp=attr.onload||"",animate=$animator&&$animator(scope,attr),initialView=transclude(scope),renderer=function(doAnimate){return{"true":{"remove":function(element){animate.leave(element.contents(),element)},"restore":function(compiled,element){animate.enter(compiled,element)},"populate":function(template,element){var contents=angular.element("<div></div>").html(template).contents();animate.enter(contents,element);return contents}},"false":{"remove":function(element){element.html("")},"restore":function(compiled,element){element.append(compiled)},"populate":function(template,element){element.html(template);return element.contents()}}}[doAnimate.toString()]};element.append(initialView);parent=element.parent().inheritedData("$uiView");name.indexOf("@")<0&&(name=name+"@"+(parent?parent.state.name:""));view={"name":name,"state":null};element.data("$uiView",view);eventHook=function(){if(viewIsUpdating)return;viewIsUpdating=!0;try{updateView(!0)}catch(e){viewIsUpdating=!1;throw e}viewIsUpdating=!1};scope.$on("$stateChangeSuccess",eventHook);scope.$on("$viewContentLoading",eventHook);updateView(!1)}}};return directive}function parseStateRef(ref){var parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{"state":parsed[1],"paramExpr":parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");if(stateData&&stateData.state&&stateData.state.name)return stateData.state}function $StateRefDirective($state,$timeout){return{"restrict":"A","require":"?^uiSrefActive","link":function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref),params=null,base=stateContext(element)||$state.$current,isForm="FORM"===element[0].nodeName,attr=isForm?"action":"href",nav=!0,update=function(newVal){newVal&&(params=newVal);if(!nav)return;var newHref=$state.href(ref.state,params,{"relative":base});if(!newHref){nav=!1;return!1}element[0][attr]=newHref;uiSrefActive&&uiSrefActive.$$setStateInfo(ref.state,params)};if(ref.paramExpr){scope.$watch(ref.paramExpr,function(newVal,oldVal){newVal!==params&&update(newVal)},!0);params=scope.$eval(ref.paramExpr)}update();if(isForm)return;element.bind("click",function(e){var button=e.which||e.button;if(!(0!==button&&1!=button||e.ctrlKey||e.metaKey||e.shiftKey)){$timeout(function(){scope.$apply(function(){$state.go(ref.state,params,{"relative":base})})});e.preventDefault()}})}}}function $StateActiveDirective($state,$stateParams,$interpolate){return{"restrict":"A","controller":function($scope,$element,$attrs){function update(){$state.$current.self===state&&matchesParams()?$element.addClass(activeClass):$element.removeClass(activeClass)}function matchesParams(){return!params||equalForKeys(params,$stateParams)}var state,params,activeClass;activeClass=$interpolate($attrs.uiSrefActive||"",!1)($scope);this.$$setStateInfo=function(newState,newParams){state=$state.get(newState,stateContext($element));params=newParams;update()};$scope.$on("$stateChangeSuccess",update)}}}function $RouteProvider($stateProvider,$urlRouterProvider){function onEnterRoute($$state){this.locals=$$state.locals.globals;this.params=this.locals.$stateParams}function onExitRoute(){this.locals=null;this.params=null}function when(url,route){if(null!=route.redirectTo){var handler,redirect=route.redirectTo;if(isString(redirect))handler=redirect;else{if(!isFunction(redirect))throw new Error("Invalid 'redirectTo' in when()");handler=function(params,$location){return redirect(params,$location.path(),$location.search())}}$urlRouterProvider.when(url,handler)}else $stateProvider.state(inherit(route,{"parent":null,"name":"route:"+encodeURIComponent(url),"url":url,"onEnter":onEnterRoute,"onExit":onExitRoute}));routes.push(route);return this}function $get($state,$rootScope,$routeParams){function stateAsRoute(state){return""!==state.name?state:undefined}var $route={"routes":routes,"params":$routeParams,"current":undefined};$rootScope.$on("$stateChangeStart",function(ev,to,toParams,from,fromParams){$rootScope.$broadcast("$routeChangeStart",stateAsRoute(to),stateAsRoute(from))});$rootScope.$on("$stateChangeSuccess",function(ev,to,toParams,from,fromParams){$route.current=stateAsRoute(to);$rootScope.$broadcast("$routeChangeSuccess",stateAsRoute(to),stateAsRoute(from));copy(toParams,$route.params)});$rootScope.$on("$stateChangeError",function(ev,to,toParams,from,fromParams,error){$rootScope.$broadcast("$routeChangeError",stateAsRoute(to),stateAsRoute(from),error)});return $route}var routes=[];onEnterRoute.$inject=["$$state"];this.when=when;this.$get=$get;$get.$inject=["$state","$rootScope","$routeParams"]}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy;angular.module("ui.router.util",["ng"]);angular.module("ui.router.router",["ui.router.util"]);angular.module("ui.router.state",["ui.router.router","ui.router.util"]);angular.module("ui.router",["ui.router.state"]);angular.module("ui.router.compat",["ui.router"]);$Resolve.$inject=["$q","$injector"];angular.module("ui.router.util").service("$resolve",$Resolve);$TemplateFactory.$inject=["$http","$templateCache","$injector"];angular.module("ui.router.util").service("$templateFactory",$TemplateFactory);UrlMatcher.prototype.concat=function(pattern){return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch)};UrlMatcher.prototype.toString=function(){return this.source};UrlMatcher.prototype.exec=function(path,searchParams){var params,nTotal,nPath,values,i,m=this.regexp.exec(path);if(!m)return null;params=this.params,nTotal=params.length,nPath=this.segments.length-1,values={};if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<nPath;i++)values[params[i]]=m[i+1];for(;i<nTotal;i++)values[params[i]]=searchParams[params[i]];return values};UrlMatcher.prototype.parameters=function(){return this.params};UrlMatcher.prototype.format=function(values){var nPath,nTotal,result,i,search,value,segments=this.segments,params=this.params;if(!values)return segments.join("");nPath=segments.length-1,nTotal=params.length,result=segments[0];for(i=0;i<nPath;i++){value=values[params[i]];null!=value&&(result+=encodeURIComponent(value));result+=segments[i+1]}for(;i<nTotal;i++){value=values[params[i]];if(null!=value){result+=(search?"&":"?")+params[i]+"="+encodeURIComponent(value);search=!0}}return result};angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory);$UrlRouterProvider.$inject=["$urlMatcherFactoryProvider"];angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider);$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"];angular.module("ui.router.state").value("$stateParams",{}).provider("$state",$StateProvider);$ViewProvider.$inject=[];angular.module("ui.router.state").provider("$view",$ViewProvider);$ViewDirective.$inject=["$state","$compile","$controller","$injector","$anchorScroll"];angular.module("ui.router.state").directive("uiView",$ViewDirective);$StateRefDirective.$inject=["$state","$timeout"];$StateActiveDirective.$inject=["$state","$stateParams","$interpolate"];angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateActiveDirective);$RouteProvider.$inject=["$stateProvider","$urlRouterProvider"];angular.module("ui.router.compat").provider("$route",$RouteProvider).directive("ngView",$ViewDirective)})(window,window.angular);