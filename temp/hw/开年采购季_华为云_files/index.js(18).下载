feloader.add("@cloud/activity-iframe/index",["@cloud/portal-utils","@cloud/activity-uba","@cloud/activity-api","@cloud/login","@cloud/dialog","@cloud/link-to"],(function(t,e,n){n.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/build/",n(n.s=12)}([function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(1)),r=i(n(2)),a=i(n(9)),c=function(){function t(){(0,o.default)(this,t)}return(0,r.default)(t,null,[{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;window.promotion=window.promotion||{},window.promotion.loginFlag||(window.promotion.loginFlag=!0,window.promotion.login=t.getLogin());var n=e;return n>0?window.promotion.login||t.getInstance(n--):null}},{key:"getLogin",value:function(){var t=new a.default;if("china"===(document.querySelector("html").getAttribute("site")||"china")){var e=t.isVerify;t.isVerify=function(){return e.call(t,{useTimeoutData:!0})}}else t.isVerify=function(){return new Promise((function(t){t({isVerify:!0,verifiedStatus:0,verifiedType:0,identifyType:0,verifiedNumber:0})}))};return t}}]),t}();e.default=c},function(e,n){e.exports=t("@cloud/link-to")},function(t,e,n){var i=n(15);function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var c=r?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}},function(e,n){e.exports=t("@cloud/dialog")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=function(t,e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=t.split("?"),o=i[i.length-1]?i[i.length-1].match(n):i[0].match(n);return null!==o?o[2].split("#")[0]:null},e.replaceParamVal=function(t,e,n){var i=new RegExp(e+"=([^&]*)");return t.replace(i,e+"="+n)}},function(e,n){e.exports=t("@cloud/login")},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(1)),r=i(n(2)),a=i(n(3)),c=i(n(5)),l=i(n(14)),u=n(8),d=i(n(4)),s=function(){function t(e){(0,o.default)(this,t),(0,a.default)(this,"verifyURL",void 0),(0,a.default)(this,"registerURL",void 0),(0,a.default)(this,"site",document.querySelector("html").getAttribute("site")||"china"),(0,a.default)(this,"startShowRealName",{messageType:"activity_iframe",functionName:"userOpened"}),this.verifyURL="https://account.huaweicloud.com/usercenter/#/realNameComponent?at=promotion&rt=all&service="+encodeURIComponent(window.location.href);var n="https://".concat(window.location.host).concat(window.location.pathname),i=(0,u.getUrlParam)(window.location.search,"uctrackid"),r=(0,u.getUrlParam)(window.location.search,"fromuser"),l={at:"promotion",fromuser:r,service:encodeURIComponent(n),locale:"zh-cn",uctrackid:i,channelFrom:btoa(window.channelFrom||"")};i||delete l.uctrackid,r||delete l.fromuser,window.channelFrom||delete l.channelFrom;var d=c.default.getInstance({env:"prod"});/activityy.huaweicloud.com/.test(window.location.host)||/huaweisre/.test(window.location.host)?this.registerURL="https://reg.ulanqab.huawei.com/registerui/cn/iframe/opentest.html?at=promotion&rt=all&service=https://www.huawei.com#/iframe/opentest":this.registerURL=d.getUrl("register",l).replace("/registerui/cn/register.html","/registerui/cn/iframe/register.html"),this.init(),this.listenLogin()}return(0,r.default)(t,null,[{key:"getInstance",value:function(){return window.promotion=window.promotion||{},window.promotion.orderExecutor||(window.promotion.orderExecutor=new t),window.promotion.orderExecutor}}]),(0,r.default)(t,[{key:"getRegisterUrl",value:function(){return this.registerURL}},{key:"getRealNameIframe",value:function(){return document.getElementById("realNameIframe")}},{key:"showLogin",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"promotion",i=-1!==window.location.href.indexOf("bpName");if(null!==(t=window)&&void 0!==t&&null!==(e=t.gConfig)&&void 0!==e&&e.isMobile||"china"!==this.site||i){var o=new l.default;o.showLogin()}else this.registerURL="lottery"===n?this.registerURL.replace("at=promotion","at=lottery"):this.registerURL.replace("at=lottery","at=promotion"),0===$("#logRegister-outer").length&&this.preloadLogin(),this.registerURL=this.registerURL.replace("/register.html?preload=true&","/register.html?"),$(".iframe-logRegister").attr("src",this.registerURL),$("#logRegister-outer").css("visibility","visible").hide().fadeIn(),$(".shade").eq(0).fadeIn()}},{key:"showRealName",value:function(){var t,e;if(null!==(t=window)&&void 0!==t&&null!==(e=t.gConfig)&&void 0!==e&&e.isMobile)(new l.default).showVerification();else if(this.getRealNameIframe()||this.preloadRealName(),$("#realName-outer").css("visibility","visible").hide().fadeIn(),$(".shade").eq(0).fadeIn(),window.verifyPageReady){var n=this.getRealNameIframe();n&&n.contentWindow.postMessage(this.startShowRealName,new URL(this.verifyURL).origin)}else window.verifyPageOpened=!0}},{key:"showGrainCloud",value:function(t){if($("#product-outer").length>0){var e=t+"&slideFlag=true&time="+(new Date).getTime();$(".iframe-product").attr("width","960"),$(".iframe-product").attr("src",e)}else{var n=t+"&slideFlag=true&time="+(new Date).getTime();$("#iframe-tips").append('<div class="modal-product" id="product-outer"><iframe class= "iframe-product" src='+n+'  name = "demo" frameborder = "0" marginwidth = "0" marginheight = "0" scrolling = "yes" width = "960" height = "100%" ></iframe ></div >')}var i=parseInt($("#product-outer").css("height"),10);i%2!=0&&$("#product-outer").css("height",i+1+"px"),$("#product-outer").css("visibility","visible").hide().fadeIn(),$(".shade-product").fadeIn()}},{key:"closeAllIframe",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$(".modal-realName").fadeOut(),$(".modal-product").fadeOut(),$(".shade-product").fadeOut(),t?($(".modal-logRegister").fadeOut(),$(".shade").fadeOut()):$(".modal-logRegister").is(":visible")||$(".shade").fadeOut()}},{key:"init",value:function(){var t,e,n=this;this.render(),this.initPostMessages(),null!==(t=window)&&void 0!==t&&null!==(e=t.gConfig)&&void 0!==e&&e.isMobile||setTimeout((function(){d.default.getInstance().isLogin().then((function(t){t.isLogin?d.default.getInstance().isVerify().then((function(t){t.isVerify?n.preloadGrainCloud():n.preloadRealName()})):n.preloadLogin()}))}),3e3)}},{key:"render",value:function(){$("body").append('<div class="shade"></div>\n            <div class="shade-product"></div>\n            <div id="iframe-tips">\n            </div>')}},{key:"initPostMessages",value:function(){var t=this,e={changeStyle:function(t){$("iframe").each((function(){if($(this).is(":visible")&&t.function&&t.function.params&&t.function.params.styles)for(var e in t.function.params.styles)if(Object.prototype.hasOwnProperty.call(t.function.params.styles,e)){var n=t.function.params.styles[e];"height"!==e&&"width"!==e||(n=parseInt(n)%2==0?n:parseInt(n)+1+"px"),$(this).attr(e,n)}})),$("#product-outer").css("height","100%")},closeIframe:function(){t.closeAllIframe(!0)},refreshParent:function(){window.location.reload()},verifyPageReady:function(){if(window.verifyPageReady=!0,window.verifyPageOpened){var e=t.getRealNameIframe();e&&e.contentWindow.postMessage(t.startShowRealName,new URL(t.verifyURL).origin)}}},n=["https://reg.huaweicloud.com","https://auth.huaweicloud.com","https://account.huaweicloud.com","https://www.huaweicloud.com","https://support.huaweicloud.com","https://activity.huaweicloud.com","https://console.huaweicloud.com","https://marketplace.huaweicloud.com","https://developer.huaweicloud.com","https://edu.huaweicloud.com","https://bbs.huaweicloud.com","https://hdmarket.huaweicloud.com","https://competition.huaweicloud.com","https://pepcloud.ulanqab.huawei.com","https://account.ulanqab.huawei.com","https://reg.ulanqab.huawei.com"];window.addEventListener("message",(function(t){var i,o=t||window.event;!o.origin||n.indexOf(o.origin)<0||"activity_iframe"===(null==o||null===(i=o.data)||void 0===i?void 0:i.messageType)&&(0,e[o.data.function.name])(o.data)})),$("body").mouseup((function(t){var e=$(t.target);$(".iframe-product").is(e)||($(".modal-product").fadeOut(),$(".shade-product").fadeOut())}))}},{key:"preloadLogin",value:function(){this.registerURL=window.location.hostname.match(/(100.95.171.9)|(ulanqab)/)?this.registerURL.replace("reg.huaweicloud.com","reg.ulanqab.huawei.com"):this.registerURL,this.registerURL=this.registerURL.replace("/register.html?","/register.html?preload=true&"),$("#iframe-tips").append('<div class="modal-logRegister modal-outer" id="logRegister-outer"><iframe class= "iframe-logRegister"src ='+this.registerURL+' name = "loginIframe" frameborder = "0" marginwidth = "0" marginheight = "0" scrolling = "no" width = "450" height = "420" ></iframe ></div >')}},{key:"preloadRealName",value:function(){this.verifyURL=window.location.hostname.match(/(100.95.171.9)|(ulanqab)/)?this.verifyURL.replace("account.huaweicloud.com","account.ulanqab.huawei.com"):this.verifyURL,this.getRealNameIframe()||$("#iframe-tips").append('<div class="modal-realName modal-outer" id="realName-outer"><iframe id="realNameIframe" class= "iframe-realName" src='+this.verifyURL+'    name = "realNameIframe" frameborder= "0" marginwidth = "0" marginheight = "0"  scrolling = "no"  width = "450" height = "500" ></iframe ></div>')}},{key:"preloadGrainCloud",value:function(){var t=$("[promotionplanid]").attr("href");if(t){var e=t+"&slideFlag=true&preFlag=true&time="+(new Date).getTime();$("#iframe-tips").append('<div class="modal-product" id="product-outer"><iframe class= "iframe-product" src='+e+'  name = "grainCloudIframe" frameborder = "0" marginwidth = "0" marginheight = "0" scrolling = "no" width = "960" height = "100%" ></iframe ></div >')}}},{key:"listenLogin",value:function(){var t,e;if(null===(t=window)||void 0===t||null===(e=t.gConfig)||void 0===e||!e.isMobile){var n=this;setInterval((function(){window.isLogin&&d.default.getInstance().isLogin().then((function(t){t.isLogin||(window.isLogin=!1,n.closeAllIframe())}))}),6e5)}}}]),t}();e.default=s},function(e,n){e.exports=t("@cloud/activity-api")},function(t,e,n){t.exports=n(13)},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LoginIns",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderExecutor",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"OrderCheck",{enumerable:!0,get:function(){return a.default}});var o=i(n(4)),r=i(n(10)),a=i(n(17));function c(t){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.body.appendChild(e)}n(25),o.default.getInstance().isLogin(),window.initActivityCss||(window.initActivityCss=!0,window.gConfig=window.gConfig||{},window.gConfig.isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),window.gConfig.isMobile?c("https://res-static1.huaweicloud.com/content/dam/cloudbu-site/archive/china/zh-cn/activity/activity_public_mb.css"):c("https://res-static1.huaweicloud.com/content/dam/cloudbu-site/archive/china/zh-cn/activity/activity_public_pc.css"))},function(t,e,n){"use strict";var i=n(6),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(1)),a=o(n(2)),c=o(n(3)),l=i(n(7)),u=o(n(5)),d=n(8),s=o(n(9)),f=n(16),h=function(){function t(){(0,r.default)(this,t),(0,c.default)(this,"linkTo",void 0),(0,c.default)(this,"lang",void 0),(0,c.default)(this,"site",void 0),this.lang=(document.querySelector("html").getAttribute("lang")||"zh-CN").toLowerCase(),this.site=(document.querySelector("html").getAttribute("site")||"china").toLowerCase(),this.linkTo=u.default.getInstance({env:"prod"})}return(0,a.default)(t,[{key:"showLogin",value:function(){var t=this,e=window.location.href,n=(0,d.getUrlParam)(window.location.search,"uctrackid"),i=(0,d.getUrlParam)(window.location.search,"fromuser"),o=(0,d.getUrlParam)(window.location.search,"fromacct");new l.default({title:f.dialogTitle[this.lang],icon:l.IIconStyle.INFO,content:f.loginHints[this.lang],buttons:[{text:f.loginBtn_login[t.lang],onclick:function(){if("china"===t.site){(new s.default).login({service:encodeURIComponent(e),locale:"zh-cn"})}else{var n=$("[data-login-href]").attr("data-login-href")+encodeURIComponent(e);window.location.href=n}}},{text:f.loginBtn_register[t.lang],className:"cancel",onclick:function(){if("china"===t.site){var r={as:"general",fromuser:i,fromacct:o,service:encodeURIComponent(e),locale:"zh-cn",uctrackid:n,channelFrom:btoa(window.channelFrom||"")};n||delete r.uctrackid,i||delete r.fromuser,o||delete r.fromacct,window.channelFrom||delete r.channelFrom,t.linkTo.register(r)}else{var a=$(".js-register").attr("href");window.location.href=a}}}]}).open()}},{key:"showVerification",value:function(){var t={service:encodeURIComponent(window.location.href),locale:"zh-cn",authType:"realNameAuthing",callback:function(){location.reload()}};new l.default({title:f.dialogTitle[this.lang],icon:l.IIconStyle.WARNING,content:'亲，您还未实名认证，<a class="verify-a">请先认证</a>',buttons:[{text:"立即认证",onclick:function(){(new s.default).verify(t)}}]}).open(),-1!==$(".mod-dialog").find("button").text().indexOf("立即认证")&&$(".mod-dialog").find(".verify-a").click((function(){(new s.default).verify(t)}))}}]),t}();e.default=h},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){"use strict";var i,o,r,a;Object.defineProperty(e,"__esModule",{value:!0}),e.loginBtn_register=e.loginBtn_login=e.loginHints=e.dialogTitle=void 0,e.dialogTitle=i,function(t){t["zh-cn"]="温馨提示",t["en-us"]="Reminder"}(i||(e.dialogTitle=i={})),e.loginHints=o,function(t){t["zh-cn"]="您好，登录后才能参加活动哦！",t["en-us"]="Please log in before participating in the promotion."}(o||(e.loginHints=o={})),e.loginBtn_login=r,function(t){t["zh-cn"]="立即登录",t["en-us"]="Login"}(r||(e.loginBtn_login=r={})),e.loginBtn_register=a,function(t){t["zh-cn"]="立即注册",t["en-us"]="Register"}(a||(e.loginBtn_register=a={}))},function(t,e,n){"use strict";var i=n(6),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(18)),a=o(n(20)),c=o(n(1)),l=o(n(2)),u=o(n(3)),d=o(n(5)),s=o(n(21)),f=o(n(11)),h=o(n(4)),m=o(n(10)),g=n(8),p=i(n(22)),v=o(n(23)),w=i(n(7)),y={dialogTitle:{"zh-cn":"温馨提示","en-us":"Reminder"},showLoginContent:{"zh-cn":"您好，登录后才能参加活动哦！","en-us":"Please log in before participating in the promotion."},showLoginBtnLogin:{"zh-cn":"立即登录","en-us":"Login"},showLoginBtnRegister:{"zh-cn":"立即注册","en-us":"Register"},ruleTitle:{"zh-cn":"活动规则","en-us":"Terms & Conditions"},dialogErr:{"zh-cn":"小云开小差了，请稍后再试。","en-us":"The system is busy. Please try again later."},dialogBtn:{"zh-cn":"确定","en-us":"OK"},mobleSticking:{"zh-cn":"为了您更好的购买体验，建议前往PC端进行购买~","en-us":""},mobleStickingBtn1:{"zh-cn":"我知道了","en-us":""},mobleStickingBtn2:{"zh-cn":"继续购买","en-us":""}},b=function(){function t(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,c.default)(this,t),(0,u.default)(this,"PAGE_NAME",window.location.pathname.split(".")[0].replace(/\//gi,"_").substr(1)),(0,u.default)(this,"lang",(document.querySelector("html").getAttribute("lang")||"zh-cn").toLowerCase()),(0,u.default)(this,"site",(document.querySelector("html").getAttribute("site")||"china").toLowerCase()),(0,u.default)(this,"$promotionCard",void 0),(0,u.default)(this,"linkTo",void 0),(0,u.default)(this,"orderExecutor",void 0),(0,u.default)(this,"isClick",!1),(0,u.default)(this,"isDomainPromotion",!1),(0,u.default)(this,"isPackagePromotion",!1),(0,u.default)(this,"windowHref","https://".concat(window.location.host).concat(window.location.pathname)),(0,u.default)(this,"defaultEvent",void 0),(0,u.default)(this,"isSticking",void 0),(0,u.default)(this,"stamp",!0),this.$promotionCard=e,this.isSticking="true"===this.$promotionCard.attr("moble-sticking"),this.defaultEvent=i,this.isDomainPromotion=Boolean(null==n?void 0:n.match("domain")),this.isPackagePromotion=Boolean(null==n?void 0:n.match("package")),this.linkTo=d.default.getInstance({env:"prod"}),this.orderExecutor=m.default.getInstance(),this.event()}return(0,l.default)(t,[{key:"event",value:function(){var t=this,e=window.location.href;this.defaultEvent&&this.$promotionCard.on("click.default",".pkg-order-btn",(function(n){var i=$(n.target).closest(".pkg-order-btn"),o=i.attr("href");if(!o.match(window.location.host+window.location.pathname)&&(n.preventDefault(),!t.isClick)){t.isClick=!0;var r=i.attr("promotionId")||"",a=i.attr("promotionPlanId")||"",c="true"===i.attr("domaincheck"),l="".concat(t.PAGE_NAME,"_").concat(i.attr("eventlabel"),"_").concat(i.text()),u="click_".concat(i.get(0).tagName.toLowerCase()),d="".concat(r||"nopromotionid","_").concat(a||"nopromotionplanid");if(!o.match(/(console)|(account)|(marketplace)/))return s.default.domEnent(l,u,d,""),window.open(o),void(t.isClick=!1);h.default.getInstance().isLogin().then((function(n){if(t.isClick=!1,!n.isLogin&&"china"===t.site)return s.default.domEnent(l,u,d,"未登录"),void t.orderExecutor.showLogin();if(n.isLogin||"china"===t.site)h.default.getInstance().isVerify().then((function(e){if(!e.isVerify)return s.default.domEnent(l,u,d,"未实名"),void t.orderExecutor.showRealName();t.check({$thisBtn:i,domainId:n.domainId,href:o,promotionId:r,promotionPlanId:a,domainCheck:c,ec:l,ea:u,el:d})}));else{s.default.domEnent(l,u,d,"未登录");var f=$.fn.porModal.Constructor;f.show({title:y.dialogTitle[t.lang],text:y.showLoginContent[t.lang],icon:"prompt",buttons:[{style:f.buttonStyle.primary,text:y.showLoginBtnLogin[t.lang],href:$("[data-login-href]").attr("data-login-href")+encodeURIComponent(e)},{style:f.buttonStyle.dark,text:y.showLoginBtnRegister[t.lang],href:$(".js-register").attr("href")}]})}}))}}))}},{key:"getDomain",value:function(){var t=this.$promotionCard.find('[name="domainCheck"]').val().toString().toLowerCase();if(!t)return{domainPrefix:"",domainSuffix:null};var e=p.domain.getDomainLinted(t),n=this.$promotionCard.find('.activity-input-container[bi_parent_name="domain"]').length?this.$promotionCard.find('.activity-input-container[bi_parent_name="domain"]'):this.$promotionCard.find('.activity-input-container[bi_parent_name="域名"]'),i=[];n.find("label,li").each((function(t,e){i.push($(e).text().match(/(\.[a-z0-9\u4e00-\u9fa5]+)+/)[0])}));var o=n.find("input:checked,select").val();if(o=(o=o.toString()).match(/(\.[a-z0-9\u4e00-\u9fa5]+)+/)[0],e.domainSuffix===o)return this.$promotionCard.find('[name="domainCheck"]').val(e.domainPrefix),e;var r=i.findIndex((function(t){return t===e.domainSuffix}));return-1===r?(e.domainSuffix=o,this.$promotionCard.find('[name="domainCheck"]').val(e.domainPrefix),e):(n.find("input,li").eq(r).trigger("click"),this.$promotionCard.find('[name="domainCheck"]').val(e.domainPrefix),e)}},{key:"check",value:function(t){var e=this;if(!t.promotionId)return window.gConfig.isMobile&&this.isSticking&&this.stamp?void this.sticking(t.$thisBtn):(s.default.domEnent(t.ec,t.ea,t.el,"noCheck"),t.href=t.href.replace("?","?activityURL=".concat(encodeURIComponent(this.windowHref),"&service=").concat(encodeURIComponent(this.windowHref),"&")),window.gConfig.isMobile?window.location.href=t.href:window.open(t.href),void(this.stamp=!0));if(this.isDomainPromotion&&!t.domainCheck){var n=this.getDomain(),i=n.domainPrefix+n.domainSuffix;if(!n.domainPrefix)return this.$promotionCard.find(".activity-promotion-domain-check-container").addClass("error").find(".domain-check-response").text(window.errMsg("domainCheck_noInput")),void this.$promotionCard.find(".pkg-order-btn").attr("domainCheck","false");f.default.domainCheck(i).then((function(n){var o=n.data;o.availability?(e.$promotionCard.find(".activity-promotion-domain-check-container").removeClass("error").find(".domain-check-response").text(window.errMsg("domainCheck_".concat(o.availability))),e.$promotionCard.find(".pkg-order-btn").attr("domainCheck","true"),t.href.match("domainName=")?t.href=(0,g.replaceParamVal)(t.href,"domainName",i):t.href=t.href.replace("promotionId","domainName=".concat(i,"&promotionId")),t.$thisBtn.attr("href",t.href),e.promotionCheck(t)):(e.$promotionCard.find(".activity-promotion-domain-check-container").addClass("error").find(".domain-check-response").text(window.errMsg("domainCheck_".concat(o.availability))),e.$promotionCard.find(".pkg-order-btn").attr("domainCheck","false"))})).catch((function(t){e.$promotionCard.find(".activity-promotion-domain-check-container").addClass("error").find(".domain-check-response").text(window.errMsg("domainCheck_false")),e.$promotionCard.find(".pkg-order-btn").attr("domainCheck","false")}))}else this.promotionCheck(t)}},{key:"promotionCheck",value:function(t){var e=this,n=$.fn.porModal.Constructor,i=Boolean(t.href&&t.href.match("grainCloud"))&&!t.href.match("domainName");f.default.check(t.domainId,t.promotionId,t.promotionPlanId).then(function(){var o=(0,a.default)(r.default.mark((function o(a){var c,l,u;return r.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(c=a.data,s.default.domEnent(t.ec,t.ea,t.el,"retCode_".concat(c.retCode)),!["0","CBC.0000"].includes(c.retCode)){o.next=17;break}if(!(window.gConfig.isMobile&&e.isSticking&&e.stamp)){o.next=6;break}return e.sticking(t.$thisBtn),o.abrupt("return");case 6:if(!window.promotion.includeEmailCheck){o.next=13;break}return l=new v.default(t.$thisBtn,t.domainId),o.next=10,l.checkEmail();case 10:if(o.sent){o.next=13;break}return l.showBeforeBindEmail(),o.abrupt("return");case 13:window.gConfig.isMobile||!i||e.isPackagePromotion?t.href.match(/(account)/)&&!e.isPackagePromotion?e.linkTo.grainCloud({pkgPeriodNum:(0,g.getUrlParam)(t.href,"pkgPeriodNum"),pkgPeriodType:(0,g.getUrlParam)(t.href,"pkgPeriodType"),domainName:(0,g.getUrlParam)(t.href,"domainName"),promotionId:(0,g.getUrlParam)(t.href,"promotionId"),promotionPlanId:(0,g.getUrlParam)(t.href,"promotionPlanId"),solutionCode:(0,g.getUrlParam)(t.href,"solutionCode"),activityURL:encodeURIComponent(e.windowHref)}):window.gConfig.isMobile?window.location.href=t.href:window.open(t.href):(u=t.href.replace("promotionId","activityURL=".concat(encodeURIComponent(e.windowHref),"&service=").concat(encodeURIComponent(e.windowHref),"&promotionId")),e.orderExecutor.showGrainCloud(u)),e.stamp=!0,o.next=18;break;case 17:n.show({title:y.dialogTitle[e.lang],text:window.errMsg(c.retCode)||c.defaultDisplayMessage||c.retDesc,icon:"error",buttons:[{style:n.buttonStyle.primary,text:y.dialogBtn[e.lang]}]});case 18:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}()).catch((function(t){n.show({title:y.dialogTitle[e.lang],text:y.dialogErr[e.lang],icon:"error",buttons:[{style:n.buttonStyle.primary,text:y.dialogBtn[e.lang]}]})}))}},{key:"sticking",value:function(t){var e=this;new w.default({title:y.dialogTitle[this.lang],icon:w.IIconStyle.INFO,content:y.mobleSticking[this.lang],buttons:[{text:y.mobleStickingBtn1[this.lang]},{text:y.mobleStickingBtn2[this.lang],className:"cancel",onclick:function(){e.stamp=!1,t.click()}}]}).open()}}]),t}();e.default=b},function(t,e,n){t.exports=n(19)},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof p?e:p,r=Object.create(o.prototype),a=new R(i||[]);return r._invoke=function(t,e,n){var i=s;return function(o,r){if(i===h)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw r;return E()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var c=L(a,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===s)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var l=d(t,e,n);if("normal"===l.type){if(i=n.done?m:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=m,n.method="throw",n.arg=l.arg)}}}(t,n,a),r}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s="suspendedStart",f="suspendedYield",h="executing",m="completed",g={};function p(){}function v(){}function w(){}var y={};y[r]=function(){return this};var b=Object.getPrototypeOf,k=b&&b(b(_([])));k&&k!==n&&i.call(k,r)&&(y=k);var x=w.prototype=p.prototype=Object.create(y);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(o,r,a,c){var l=d(t[o],t,r);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&i.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}var o;this._invoke=function(t,i){function r(){return new e((function(e,o){n(t,i,e,o)}))}return o=o?o.then(r,r):r()}}function L(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function _(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:e,done:!0}}return v.prototype=x.constructor=w,w.constructor=v,v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},C(I.prototype),I.prototype[a]=function(){return this},t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(x),l(x,c,"Generator"),x[r]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=_,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return c.type="throw",c.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:_(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e){function n(t,e,n,i,o,r,a){try{var c=t[r](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(i,o)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(o,r){var a=t.apply(e,i);function c(t){n(a,o,r,c,l,"next",t)}function l(t){n(a,o,r,c,l,"throw",t)}c(void 0)}))}}},function(e,n){e.exports=t("@cloud/activity-uba")},function(e,n){e.exports=t("@cloud/portal-utils")},function(t,e,n){"use strict";var i=n(6),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(1)),a=o(n(2)),c=o(n(3)),l=o(n(11)),u=i(n(7)),d=n(24),s=function(){function t(e,n){(0,r.default)(this,t),(0,c.default)(this,"clickedBtn",void 0),(0,c.default)(this,"customerId",void 0),this.clickedBtn=e,this.customerId=n}return(0,a.default)(t,[{key:"checkEmail",value:function(){var t=this;return window.bindedEmail=window.bindedEmail||!1,window.bindedEmail?new Promise((function(t){t(!0)})):new Promise((function(e){l.default.brief(t.customerId).then((function(t){var n=!!t.data.email;window.bindedEmail=n,e(n)}))}))}},{key:"showBeforeBindEmail",value:function(){var t=this;new u.default({title:d.beforeBindDialogData.title,icon:u.IIconStyle.INFO,content:this.getDialogInnerElement(d.beforeBindDialogData.content,d.beforeBindDialogData.contentDesc,"info"),buttons:[{text:d.beforeBindDialogData.btnText,onclick:function(){t.showBindingEmail(),window.open(d.beforeBindDialogData.btnLink)}}]}).open()}},{key:"showBindingEmail",value:function(){var t=this;new u.default({title:d.bindingDialogData.title,icon:u.IIconStyle.INFO,content:this.getDialogInnerElement(d.bindingDialogData.content,d.bindingDialogData.contentDesc,"warn"),buttons:[{text:d.bindingDialogData.btnText,onclick:function(){t.bindingDialogCheck()}}]}).open()}},{key:"showBindedEmail",value:function(){var t=this;new u.default({title:d.bindedDialogData.title,icon:u.IIconStyle.SUCCESS,content:this.getDialogInnerElement(d.bindedDialogData.content,d.bindedDialogData.contentDesc,"info"),buttons:[{text:d.bindedDialogData.btnText,onclick:function(){t.goPurchase()}}]}).open()}},{key:"getDialogInnerElement",value:function(t,e,n){return"\n        <div class='free-test-dialog'>\n            <div class='dialog-content-title'>\n                ".concat(t,"\n            </div>\n            <div class='").concat("info"===n?"dialog-info-inner":"dialog-warn-inner","'>\n                ").concat(e,"\n            </div>\n        </div>\n        ")}},{key:"bindingDialogCheck",value:function(){var t=this;this.checkEmail().then((function(e){e?t.showBindedEmail():t.showBeforeBindEmail()}))}},{key:"goPurchase",value:function(){this.clickedBtn.click()}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bindedDialogData=e.bindingDialogData=e.beforeBindDialogData=void 0,window.beforeBindDialogData=window.beforeBindDialogData||{},window.bindingDialogData=window.bindingDialogData||{},window.bindedDialogData=window.bindedDialogData||{};var i=Object.assign(window.beforeBindDialogData,{title:"温馨提示",content:"您还未绑定邮箱，绑定后才可以领取哦～",contentDesc:"绑定有礼：1.领取限额产品  2.华为云《云产品攻略》精华版",btnText:"立即绑定",btnLink:"https://account.huaweicloud.com/usercenter/?region=cn-east-2#/modifyCredential?type=email"});e.beforeBindDialogData=i;var o=Object.assign(window.bindingDialogData,{title:"温馨提示",content:"请您在新打开的页面绑定邮箱",contentDesc:"注意：绑定邮箱完成前，请不要关闭此窗口",btnText:"已完成绑定"});e.bindingDialogData=o;var r=Object.assign(window.bindedDialogData,{title:"恭喜！您已获得领取资格",content:"点击下方按钮即可完成领取～",contentDesc:"更多礼品：《云产品攻略》精华版将于3个工作日内发放至您的邮箱，请耐心等待",btnText:"立即领取"});e.bindedDialogData=r},function(t,e,n){}])}));