feloader.add("@cloud/pep-side-elevator-nav/pc/index",["@cloud/lazyload"],(function(t,e,i){i.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/build/",i(i.s=1)}([function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,i){"use strict";var n=i(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i(2)),r=n(i(3)),o=n(i(4));i(5);var s=n(i(6)),l=n(i(7)),u=n(i(8)),f=n(i(9)),c=function(){function t(e){(0,a.default)(this,t),(0,o.default)(this,"$el",void 0),(0,o.default)(this,"$wrapper",void 0),(0,o.default)(this,"wrapperHeight",void 0),(0,o.default)(this,"fixedTop",(0,s.default)()),(0,o.default)(this,"scrollDiff",void 0),(0,o.default)(this,"$anchor",void 0),(0,o.default)(this,"hashs",void 0),(0,o.default)(this,"$sections",$("")),(0,o.default)(this,"$stairsSmall",void 0),(0,o.default)(this,"$stairsBig",void 0),(0,o.default)(this,"$stairsRedBag",void 0),this.$el=$(e),this.init(),this.bindEvent(),this.syncActivation()}return(0,r.default)(t,null,[{key:"moduleName",value:function(){return"pep-side-elevator-nav"}}]),(0,r.default)(t,[{key:"init",value:function(){var t=this;setTimeout((function(){u.default.getInstance(t.$el[0])}),20),window.innerWidth>=768&&(0,f.default)(this.$el.add(this.$el.find("[data-src-pc]")),"data-src-pc"),$(".pep-navigation-bar").find(".pagenav-wrapper").length>0?this.wrapperHeight=$(".pep-navigation-bar").find(".pagenav-wrapper").height():this.wrapperHeight=0,this.scrollDiff=-(this.wrapperHeight+this.fixedTop),this.$anchor=this.$el.find(".stairsnav-anchor"),this.hashs=this.$anchor.filter('[href^="#"]').map((function(t,e){return $(e).attr("href")})).toArray(),this.hashs.forEach((function(e){var i=$(e);i.length>0&&(t.$sections=t.$sections.add(i))}))}},{key:"showRule",value:function(){return window.innerWidth>=768&&($(".pep-activity-banner-v7")&&$(".pep-activity-banner-v7").get(0)?$(".pep-activity-banner-v7").get(0).getBoundingClientRect().bottom-this.wrapperHeight<=this.fixedTop:!(!$(".banner-activity-component")||!$(".banner-activity-component").get(0))&&$(".banner-activity-component").get(0).getBoundingClientRect().bottom-this.wrapperHeight<=this.fixedTop)}},{key:"activeNavItem",value:function(t){this.$anchor.removeClass("active").filter('[href="#'+t+'"]').addClass("active")}},{key:"syncActivation",value:function(){if(this.showRule()){this.$el.find(".activity-stairsnav").fadeIn();for(var t=this.$sections.length-1;t>=0;t--){var e=this.$sections.eq(t),i=e.get(0).getBoundingClientRect();if(i)if(i.top<=-this.scrollDiff){this.activeNavItem(e.attr("id"));break}}}else this.$el.find(".activity-stairsnav").fadeOut()}},{key:"bindEvent",value:function(){var t=this;$('a[href^="#"]').on("click",(function(e){e.preventDefault(),e.stopPropagation();var i=$(e.currentTarget).attr("href"),n=t.scrollDiff;(0,l.default)(i,n)})),$(window).on("scroll",(function(){t.syncActivation()})),this.$stairsSmall=this.$el.find(".stairsnav-container-small"),this.$stairsBig=this.$el.find(".stairsnav-container"),this.$stairsRedBag=this.$el.find(".stairsnav-redBag"),this.$el.find(".stairsnav-anchor-last").on("click",(function(e){window.innerWidth>=1564?(e.preventDefault(),e.stopPropagation(),$("body,html").stop().animate({scrollTop:0})):(t.$stairsSmall.removeClass("disappear"),t.$stairsBig.removeClass("appear"),t.$stairsRedBag.css("visibility","hidden"))})),this.$stairsSmall.on("click",(function(e){e.preventDefault(),e.stopPropagation(),t.$stairsSmall.addClass("disappear"),t.$stairsBig.addClass("appear").find(".stairsnav-anchor-last").addClass("stairsnav-anchor-retract").addClass("stairsnav-hide-nav"),t.$stairsRedBag.css("visibility","visible")}))}}]),t}();e.default=c},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){var t=$("#header .header-container");return"fixed"===t.css("position")?t.outerHeight():0};e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t,e){var i=$(t),n=i.offset();if("#"!==t&&0!==i.length&&n){var a=Math.ceil(i.offset().top)+e;$("body,html").stop().animate({scrollTop:a})}};e.default=n},function(e,i){e.exports=t("@cloud/lazyload")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t,e){t.each((function(t,i){var n=$(i),a=n.attr(e);a&&("IMG"===i.nodeName?n.attr("src",a):n.css({backgroundImage:'url("'+a+'")'}))}))};e.default=n}])}));