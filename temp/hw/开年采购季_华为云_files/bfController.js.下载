define([],function(){"use strict";function BFController($scope){var hash=location.hash.substring(2);"register"===hash||"registercontrast"===hash||"bindAccount"===hash&&-1===window.location.href.indexOf("/registerui/public/custom/bindAccount.html")||"bindSuccess"===hash?initRegisterPageBanner($scope):initCommonPageBanner($scope);$scope.model.refreshPage=refreshPage}function initRegisterPageBanner($scope){$("#languageSwitch").mouseover(function(){languageHover();"zh-cn"===window.language?$scope.model.switchLogo="//res.hc-cdn.com/register/6.2.209/registerui/theme/image/zh_red.png":$scope.model.switchLogo="//res.hc-cdn.com/register/6.2.209/registerui/theme/image/en_red.png";$scope.$apply();$("#languages").show();$("#languages_new").show()}).mouseout(function(){"zh-cn"===window.language?$scope.model.switchLogo="//res.hc-cdn.com/register/6.2.209/registerui/theme/image/zh_gray.png":$scope.model.switchLogo="//res.hc-cdn.com/register/6.2.209/registerui/theme/image/en_gray.png";$scope.$apply();$("#languages").hide();$("#languages_new").hide()})}function languageHover(){$(".sel-lang.unActive").mouseover(function(){$(this).addClass("active")}).mouseout(function(){$(this).removeClass("active")})}function refreshPage(language,$scope){var newSearchStr,params,needAddLocale,index,key,searchStr=window.location.search.substring(1);if(""===searchStr)window.location.search="locale="+language;else{newSearchStr="";params=searchStr.split("&");needAddLocale=!0;for(index=0;index<params.length;index++){key=params[index].substring(0,params[index].indexOf("="));if("locale"===key){params[index]=key+"="+language;needAddLocale=!1}newSearchStr+=0===index?params[index]:"&"+params[index]}needAddLocale&&(newSearchStr+="&locale="+language);window.location.search=newSearchStr}}function initCommonPageBanner($scope){$("#languageSwitch").unbind("click").click(function(){var index,languages=$("#languages"),children=languages.children();for(index=0;index<children.length;index++)$(children[index]).click(function(event){refreshPage(event.currentTarget.id,$scope)});languages.is(":visible")?languages.hide():languages.show()});$(document).click(function(event){event.target!==$("#languageSwitch")[0]&&event.target!==$("#languageSwitch > span")[0]&&event.target!==$("#languageSwitch > div")[0]&&$("#languages").hide()})}return BFController});